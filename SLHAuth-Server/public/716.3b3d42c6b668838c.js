"use strict";(self.webpackChunkSLHApp=self.webpackChunkSLHApp||[]).push([[716],{8716:(ut,Z,i)=>{i.r(Z),i.d(Z,{MyteamModule:()=>d});var g=i(6895),u=i(9299),l=i(7155),t=i(4650),x=i(6667),y=i(6518),U=i(1576),C=i(4859),R=i(7392),S=i(6338),v=i(4850),r=i(3546),h=i(782),O=i(1572);function P(o,e){1&o&&(t.TgZ(0,"mat-grid-list",2)(1,"mat-grid-tile"),t._UZ(2,"mat-spinner"),t.qZA()())}const Y=function(o){return[o]},M=function(o){return["/dashboard/myteam/players",o]};function N(o,e){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),t._uU(5),t.qZA(),t._UZ(6,"br")(7,"br"),t.TgZ(8,"mat-card-subtitle"),t._uU(9),t.qZA(),t._UZ(10,"span",5)(11,"img",6),t.qZA(),t._UZ(12,"br")(13,"mat-divider")(14,"br"),t.TgZ(15,"mat-card-content")(16,"div",7)(17,"mat-list-item",8),t._uU(18,"Manager : "),t._UZ(19,"br"),t._uU(20," Numero de Jugadores : "),t._UZ(21,"br"),t._uU(22," Numero de Derechos : "),t._UZ(23,"br"),t._uU(24," Numero de Rondas : "),t._UZ(25,"br"),t._uU(26," Ingresos : "),t._UZ(27,"br"),t._uU(28," Gastos : "),t._UZ(29,"br"),t._uU(30," CAP Libre : "),t.qZA()(),t.TgZ(31,"div",9)(32,"mat-list-item")(33,"strong"),t._uU(34),t.ALo(35,"titlecase"),t.qZA(),t._UZ(36,"br"),t._uU(37),t._UZ(38,"br"),t._uU(39),t._UZ(40,"br"),t._uU(41),t._UZ(42,"br"),t._uU(43),t.ALo(44,"currency"),t._UZ(45,"br"),t._uU(46),t.ALo(47,"currency"),t._UZ(48,"br"),t.TgZ(49,"strong"),t._uU(50),t.ALo(51,"currency"),t.qZA()()()(),t._UZ(52,"br")(53,"mat-divider")(54,"br"),t.TgZ(55,"mat-card-footer")(56,"div",3)(57,"div",4)(58,"div",10)(59,"button",11)(60,"mat-icon"),t._uU(61,"email"),t.qZA(),t._uU(62),t.qZA()(),t.TgZ(63,"div",7)(64,"button",12)(65,"mat-icon"),t._uU(66,"near_me"),t.qZA(),t._uU(67),t.qZA()()()()(),t._UZ(68,"br")(69,"mat-divider")(70,"br"),t.qZA(),t.TgZ(71,"mat-card",13)(72,"button",14)(73,"mat-icon"),t._uU(74,"groups"),t.qZA(),t._uU(75,"Roster"),t.qZA()()()()),2&o){const n=t.oxw();t.xp6(5),t.hij(" ",n.gminfo.EQUIPO,""),t.xp6(4),t.hij(" ",n.gminfo.AKA,""),t.xp6(2),t.Q6J("src",t.VKq(21,Y,n.gminfo.alt_img),t.LSH),t.xp6(23),t.hij(" ",t.lcZ(35,13,n.gminfo.Nickname),""),t.xp6(3),t.hij(" ",n.TotalJugadores,""),t.xp6(2),t.hij(" ",n.TotalDerechos,""),t.xp6(2),t.hij(" ",n.TotalRondas,""),t.xp6(2),t.hij(" ",t.lcZ(44,15,130)," "),t.xp6(3),t.hij(" ",t.lcZ(47,17,n.TotalSalarios),""),t.xp6(4),t.hij(" ",t.lcZ(51,19,n.SalarioLibre),""),t.xp6(12),t.hij("E-mail : ",n.gminfo.Mail2,""),t.xp6(5),t.hij("Telegram : ",n.gminfo.Telegram,""),t.xp6(5),t.Q6J("routerLink",t.VKq(23,M,n.gminfo.AKA))}}class c{constructor(e,n,a){this.infogmS=e,this.authservice=n,this.route=a,this.showrosterb=!1,this.validDrop=!1,this.isMyTeam=!1,this.TotalSalarios=0,this.TotalJugadores=0,this.TotalRondas=0,this.TotalDerechos=0,this.SalarioLibre=0,this.displayedColumns=["TIPO","POS","PLAYER","SALARIO","YEARS","OPT","DROP"],this.dataSource=new l.by(this.myroster)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}ngOnInit(){this.infogmS.getInfoGmByEmail(this.authservice.user.email).subscribe(n=>{this.myAKA=n.AKA,this.gminfo=n,this.infogmS.getRoster(n.AKA).subscribe(s=>{this.myroster=s,s.forEach(m=>{this.TotalSalarios+=m.SALARIO||0,"Jugador"===m.TIPO&&(this.TotalJugadores=this.TotalJugadores+1),"Derecho"===m.TIPO&&(this.TotalDerechos=this.TotalDerechos+1),"Ronda"===m.TIPO&&(this.TotalRondas=this.TotalRondas+1)}),this.SalarioLibre=130-this.TotalSalarios})})}showroster(){this.showrosterb=!0}}c.\u0275fac=function(e){return new(e||c)(t.Y36(x.y),t.Y36(y.e),t.Y36(u.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-infogm"]],decls:3,vars:2,consts:[["cols","1",4,"ngIf","ngIfElse"],["divLoadedgminfo",""],["cols","1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"spacer"],["mat-card-image","",3,"src"],["fxFlex","50","align","right"],["role","listitem","align","right"],["fxFlex","50",2,"margin-left","10px"],["fxFlex","50"],["mat-fab","","extended","","color","accent"],["mat-fab","","extended","","color","secondary"],["align","center"],["mat-fab","","extended","","color","primary",3,"routerLink"]],template:function(e,n){if(1&e&&(t.YNc(0,P,3,0,"mat-grid-list",0),t.YNc(1,N,76,25,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",!n.gminfo)("ngIfElse",a)}},dependencies:[g.O5,u.rH,U.xw,U.yH,C.cs,R.Hw,S.Tg,v.d,r.a8,r.dn,r.rt,r.dk,r.G2,r.$j,r.n5,h.Il,h.DX,O.Ou,g.rS,g.H9],encapsulation:2});var I=i(9549),L=i(4144),b=i(811);function E(o,e){1&o&&(t.TgZ(0,"mat-grid-list",2)(1,"mat-grid-tile"),t._UZ(2,"mat-spinner"),t.qZA()())}function D(o,e){1&o&&(t.TgZ(0,"mat-grid-list",2)(1,"mat-grid-tile"),t._UZ(2,"mat-spinner"),t.qZA()())}const w=function(o){return[o]};function q(o,e){if(1&o&&(t.TgZ(0,"mat-card")(1,"mat-card-header",20)(2,"mat-card-title",21),t._uU(3),t.qZA(),t._UZ(4,"br")(5,"br"),t.TgZ(6,"mat-card-subtitle",21),t._uU(7),t.qZA(),t._UZ(8,"span",22)(9,"img",23),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(3),t.hij(" ",n.gminfoT.EQUIPO," "),t.xp6(4),t.hij(" ",n.gminfoT.AKA,""),t.xp6(2),t.Q6J("src",t.VKq(3,w,n.gminfoT.alt_img),t.LSH)}}function J(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Tipo "),t.qZA())}function Q(o,e){if(1&o&&(t.TgZ(0,"td",25)(1,"mat-card-actions")(2,"mat-button-toggle-group",26)(3,"mat-button-toggle")(4,"mat-icon"),t._uU(5,"checkbox"),t.qZA(),t._uU(6),t.qZA()()()()),2&o){const n=e.$implicit;t.xp6(6),t.hij(" ",n.TIPO," ")}}function j(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Pos "),t.qZA())}function K(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.POS," ")}}function H(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Nombre "),t.qZA())}function B(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.PLAYER," ")}}function F(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Salario "),t.qZA())}function z(o,e){if(1&o&&(t.TgZ(0,"td",25,27),t._uU(2),t.qZA()),2&o){const n=e.$implicit;t.xp6(2),t.hij(" ",n.SALARIO," ")}}function G(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," A\xf1os "),t.qZA())}function $(o,e){if(1&o&&(t.TgZ(0,"td",25,28),t._uU(2),t.qZA()),2&o){const n=e.$implicit;t.xp6(2),t.hij(" ",n.YEARS," ")}}function X(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Opt "),t.qZA())}function k(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.OPT," ")}}function V(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Dropear "),t.qZA())}function W(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",31)(1,"button",32),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2).$implicit,m=t.oxw(2);return t.KtG(m.droparPlayer(s.PLAYER,s.SALARIO,s.YEARS))}),t.TgZ(2,"mat-icon"),t._uU(3,"cancel"),t.qZA(),t._uU(4," Cortar "),t.qZA()()}if(2&o){const n=t.oxw(4);t.xp6(1),t.Q6J("disabled",n.validDrop)}}function tt(o,e){if(1&o&&t.YNc(0,W,5,1,"div",30),2&o){const n=t.oxw().$implicit;t.Q6J("ngIf",n.SALARIO<=2)}}function ot(o,e){if(1&o&&(t.TgZ(0,"td",25)(1,"mat-card-actions"),t.YNc(2,tt,1,1,"ng-template",29),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.isMyTeam)}}function et(o,e){1&o&&t._UZ(0,"tr",33)}function nt(o,e){1&o&&t._UZ(0,"tr",34)}function at(o,e){if(1&o&&(t.TgZ(0,"tr",35)(1,"td",36),t._uU(2),t.qZA()()),2&o){t.oxw();const n=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}function it(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"mat-card"),t.YNc(1,D,3,0,"mat-grid-list",0),t.YNc(2,q,10,5,"ng-template",null,3,t.W1O),t._UZ(4,"br")(5,"mat-divider")(6,"br"),t.TgZ(7,"mat-card-content")(8,"mat-form-field")(9,"mat-label"),t._uU(10,"Buscar"),t.qZA(),t.TgZ(11,"input",4,5),t.NdJ("keyup",function(s){t.CHM(n);const m=t.oxw();return t.KtG(m.applyFilter(s))}),t.qZA()(),t.TgZ(13,"div",6)(14,"table",7),t.ynx(15,8),t.YNc(16,J,2,0,"th",9),t.YNc(17,Q,7,1,"td",10),t.BQk(),t.ynx(18,11),t.YNc(19,j,2,0,"th",9),t.YNc(20,K,2,1,"td",10),t.BQk(),t.ynx(21,12),t.YNc(22,H,2,0,"th",9),t.YNc(23,B,2,1,"td",10),t.BQk(),t.ynx(24,13),t.YNc(25,F,2,0,"th",9),t.YNc(26,z,3,1,"td",10),t.BQk(),t.ynx(27,14),t.YNc(28,G,2,0,"th",9),t.YNc(29,$,3,1,"td",10),t.BQk(),t.ynx(30,15),t.YNc(31,X,2,0,"th",9),t.YNc(32,k,2,1,"td",10),t.BQk(),t.ynx(33,16),t.YNc(34,V,2,0,"th",9),t.YNc(35,ot,3,1,"td",10),t.BQk(),t.YNc(36,et,1,0,"tr",17),t.YNc(37,nt,1,0,"tr",18),t.YNc(38,at,3,1,"tr",19),t.qZA()()()()}if(2&o){const n=t.MAs(3),a=t.oxw();t.xp6(1),t.Q6J("ngIf",!a.gminfoT)("ngIfElse",n),t.xp6(13),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}class f{constructor(e,n,a){this.infogmS=e,this.route=n,this.authservice=a,this.validDrop=!1,this.isMyTeam=!1,this.TotalSalarios=0,this.TotalJugadores=0,this.TotalRondas=0,this.TotalDerechos=0,this.EQUIPO="",this.mySLHnews=[],this.displayedColumns=["TIPO","POS","PLAYER","SALARIO","YEARS","OPT","DROP"]}applyFilter(e){const n=e.target.value;this.dataSource.filter=n.trim().toLowerCase(),console.log(n,"fv")}ngOnInit(){let e=this.route.snapshot.paramMap.get("AKA");this.infogmS.getRoster(e).subscribe(a=>{this.myroster=a,this.dataSource=new l.by(this.myroster),a.forEach(s=>{this.TotalSalarios+=s.SALARIO||0,"Jugador"===s.TIPO&&(this.TotalJugadores=this.TotalJugadores+1),"Derecho"===s.TIPO&&(this.TotalDerechos=this.TotalDerechos+1),"Ronda"===s.TIPO&&(this.TotalRondas=this.TotalRondas+1)})}),this.infogmS.getInfoGMByAKA(e).subscribe(a=>{this.gminfoT=a}),this.infogmS.getInfoGmByEmail(this.authservice.user.email).subscribe(a=>{this.myAKA=a.AKA,this.EQUIPO=a.EQUIPO||"",e===this.myAKA&&(this.isMyTeam=!0)})}droparPlayer(e,n,a){this.infogmS.putFA(e,"F.A",0,0,"Jugador").subscribe(gt=>{}),this.guardarSLHNewsCorte(e,n,a),window.location.reload()}guardarSLHNewsCorte(e,n,a){const s=this.myAKA,m=this.EQUIPO||"",A=new Date;console.log(e,"PLAYER"),console.log(s,"TEAM"),console.log(m,"TEAM"),console.log(n,"SALARIO"),console.log(a,"YEARS"),console.log(A,"desde"),console.log(!1,"fichadoCortado"),this.infogmS.putSLHNews(e,s,m,n,a,A,!1).subscribe(gt=>{})}}f.\u0275fac=function(e){return new(e||f)(t.Y36(x.y),t.Y36(u.gz),t.Y36(y.e))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-roster"]],decls:3,vars:2,consts:[["cols","1",4,"ngIf","ngIfElse"],["divLoaded2",""],["cols","1"],["divLoadedT",""],["matInput","","placeholder","ex Bam",3,"keyup"],["input",""],[1,"mytableresponsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","TIPO"],["mat-header-cell","","class","mypTIPO3",4,"matHeaderCellDef"],["mat-cell","","class","mypTIPO2",4,"matCellDef"],["matColumnDef","POS"],["matColumnDef","PLAYER"],["matColumnDef","SALARIO"],["matColumnDef","YEARS"],["matColumnDef","OPT"],["matColumnDef","DROP"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"tituloEquipo"],[2,"margin-left","25px"],[1,"spacer"],["mat-card-image","",2,"margin-right","25px",3,"src"],["mat-header-cell","",1,"mypTIPO3"],["mat-cell","",1,"mypTIPO2"],["name","assetsOffer","multiple","","color","secondary","type","checkbox"],["salario",""],["years",""],[3,"ngIf"],["style","margin: auto;",4,"ngIf"],[2,"margin","auto"],["mat-raised-button","","extended","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,n){if(1&e&&(t.YNc(0,E,3,0,"mat-grid-list",0),t.YNc(1,it,39,5,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",!n.dataSource)("ngIfElse",a)}},dependencies:[g.O5,C.lW,R.Hw,v.d,r.a8,r.hq,r.dn,r.dk,r.G2,r.$j,r.n5,h.Il,h.DX,O.Ou,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,I.KE,I.hX,L.Nt,b.A9,b.Yi],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mypTIPO[_ngcontent-%COMP%]{border-right:1px solid currentColor;background:#334455}.mypTIPO2[_ngcontent-%COMP%]{border-right:1px solid currentColor;text-align:center}.mypTIPO3[_ngcontent-%COMP%]{text-align:center;background-color:#345;color:#e70768;font-size:large}.mypNONMBRE[_ngcontent-%COMP%]{background:#334455;color:#e70768;font-size:large}.tituloEquipo[_ngcontent-%COMP%]{background:linear-gradient(#444444,#e70768);color:#fff;font-size:x-large;align-self:center;width:100%;padding:10px}.mytableresponsive[_ngcontent-%COMP%]{overflow-x:auto}"]});var st=i(5606),rt=i(3160),lt=i(4785);class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-miequipo"]],decls:3,vars:0,template:function(e,n){1&e&&t._UZ(0,"app-head")(1,"app-menunav")(2,"app-footer")},dependencies:[st.i,rt.V,lt.c],encapsulation:2});const mt=[{path:"",component:_,children:[{path:"infoGMs",component:c},{path:"infoGM/:email",component:c},{path:"players/:AKA",component:f},{path:"**",redirectTo:""}]}];class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[u.Bz.forChild(mt),u.Bz]});var ct=i(4930),pt=i(8785),dt=i(4006);class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[g.ez,p,ct.DashboardModule,pt.q,dt.UX]})}}]);